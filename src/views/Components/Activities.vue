<template>
  <div class="space-y-0">
    <div 
      v-for="(activity, index) in activities" 
      :key="index" 
      class="flex items-start relative"
    >
      <!-- Vertical Line (except for last item) -->
      <div 
        v-if="index < activities.length - 1"
        class="absolute w-0.5 bg-gray-200 z-0"
        :style="{ 
          left: '15px', 
          top: '40px', 
          height: '34px'
        }"
      ></div>

      <!-- Activity Icon with fixed spacing -->
      <div 
        class="flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-full z-10 relative"
        :style="{ 
          backgroundColor: getActivityIcon(activity.action).bgColor,
          marginBottom: index < activities.length - 1 ? '50px' : '0'
        }"
      >
        <div v-html="getActivityIcon(activity.action).svg"></div>
      </div>

      <!-- Activity Content -->
      <div class="flex-1 min-w-0 ml-3">
        <div class="flex items-start justify-between">
          <div>
            <h4 class="text-sm font-semibold" style="color: #626F86;">{{ activity.action }}</h4>
            <p class="mt-1 text-xs" style="color: #626F86;">
              REF: {{ orderRef }} has been {{ activity.action.toLowerCase() }} by
              <a href="#" class="text-blue-600 capitalize hover:text-blue-800">@{{ activity.user }}</a>
            </p>
          </div>
          <span class="text-xs whitespace-nowrap" style="color: #626F86;">{{ activity.time }}</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
interface Activity {
  action: string;
  user: string;
  time: string;
}

interface Props {
  activities: Activity[];
  orderRef: string;
}

defineProps<Props>();

// Activity icon component
const getActivityIcon = (actionType: string) => {
  const iconMap: Record<string, { svg: string; bgColor: string }> = {
    'New order assigned': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.3333 4C13.3333 3.63181 13.0348 3.33333 12.6666 3.33333C12.2984 3.33333 11.9999 3.63181 11.9999 4V6.66667C11.9999 7.03486 12.2984 7.33333 12.6666 7.33333C13.0348 7.33333 13.3333 7.03486 13.3333 6.66667V4Z" fill="white"/>
        <path d="M13.9999 4.66667H11.3333C10.9651 4.66667 10.6666 4.96514 10.6666 5.33333C10.6666 5.70152 10.9651 6 11.3333 6H13.9999C14.3681 6 14.6666 5.70152 14.6666 5.33333C14.6666 4.96514 14.3681 4.66667 13.9999 4.66667Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33325 9.33333C3.33325 8.59667 3.93459 8 4.67259 8H9.99392C10.7339 8 11.3333 8.596 11.3333 9.33733V12.2973C11.3333 14.5673 3.33325 14.5673 3.33325 12.2973V9.33333Z" fill="white"/>
        <path d="M7.33325 7.33333C8.80601 7.33333 9.99992 6.13943 9.99992 4.66667C9.99992 3.19391 8.80601 2 7.33325 2C5.86049 2 4.66659 3.19391 4.66659 4.66667C4.66659 6.13943 5.86049 7.33333 7.33325 7.33333Z" fill="white"/>
      </svg>`,
      bgColor: '#E56910'
    },
    'New order status changed': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.33344 4.00196V5.99863C5.33344 6.17544 5.40368 6.34501 5.5287 6.47003C5.65372 6.59505 5.82329 6.66529 6.0001 6.66529C6.17692 6.66529 6.34649 6.59505 6.47151 6.47003C6.59653 6.34501 6.66677 6.17544 6.66677 5.99863V3.40129C6.66677 2.99596 6.3381 2.66663 5.93344 2.66663H3.33344C3.15636 2.66663 2.98654 2.73697 2.86133 2.86218C2.73611 2.98739 2.66577 3.15722 2.66577 3.33429C2.66577 3.51137 2.73611 3.68119 2.86133 3.8064C2.98654 3.93162 3.15636 4.00196 3.33344 4.00196H5.33344Z" fill="white"/>
        <path d="M6.28544 12.012C4.90077 11.326 4.0001 9.87129 4.0001 8.24663C4.0001 6.73596 4.77811 5.36729 6.01344 4.62996C6.33344 4.43929 6.4441 4.01529 6.26077 3.68263C6.21954 3.60447 6.16287 3.5355 6.09419 3.4799C6.02551 3.4243 5.94626 3.38322 5.86123 3.35916C5.77621 3.3351 5.68718 3.32855 5.59955 3.33992C5.51192 3.35129 5.42751 3.38033 5.35144 3.42529C3.70477 4.40729 2.66677 6.23329 2.66677 8.24663C2.66677 10.412 3.8681 12.352 5.71344 13.266C6.04544 13.4306 6.44344 13.2833 6.60144 12.9373C6.75944 12.5906 6.61811 12.1766 6.28544 12.012Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33344 10.0013V12.5986C9.33344 13.004 9.66211 13.3333 10.0668 13.3333H12.6668C12.8438 13.3333 13.0137 13.2629 13.1389 13.1377C13.2641 13.0125 13.3344 12.8427 13.3344 12.6656C13.3344 12.4886 13.2641 12.3187 13.1389 12.1935C13.0137 12.0683 12.8438 11.998 12.6668 11.998H10.6668V10.0013C10.6668 9.82448 10.5965 9.65491 10.4715 9.52989C10.3465 9.40486 10.1769 9.33463 10.0001 9.33463C9.82329 9.33463 9.65373 9.40486 9.5287 9.52989C9.40368 9.65491 9.33344 9.82448 9.33344 10.0013Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.3981 3.06396C9.2401 3.41063 9.38144 3.82396 9.71411 3.98863C11.0988 4.67463 11.9994 6.12863 11.9994 7.75329C11.9994 9.26396 11.2214 10.6333 9.98544 11.37C9.83053 11.4658 9.71849 11.6176 9.67256 11.7939C9.62663 11.9702 9.65034 12.1574 9.73877 12.3166C9.92144 12.65 10.3288 12.7653 10.6481 12.5746C12.2948 11.5926 13.3328 9.76663 13.3328 7.75329C13.3328 5.58796 12.1314 3.64796 10.2861 2.73463C10.1978 2.69021 10.1003 2.66693 10.0014 2.66663C9.87333 2.66788 9.74829 2.70602 9.64129 2.77649C9.53429 2.84695 9.44986 2.94676 9.3981 3.06396Z" fill="white"/>
      </svg>`,
      bgColor: '#E56910'
    },
    'Confirmed order assigned': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.3333 4C13.3333 3.63181 13.0348 3.33333 12.6666 3.33333C12.2984 3.33333 11.9999 3.63181 11.9999 4V6.66667C11.9999 7.03486 12.2984 7.33333 12.6666 7.33333C13.0348 7.33333 13.3333 7.03486 13.3333 6.66667V4Z" fill="white"/>
        <path d="M13.9999 4.66667H11.3333C10.9651 4.66667 10.6666 4.96514 10.6666 5.33333C10.6666 5.70152 10.9651 6 11.3333 6H13.9999C14.3681 6 14.6666 5.70152 14.6666 5.33333C14.6666 4.96514 14.3681 4.66667 13.9999 4.66667Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33325 9.33333C3.33325 8.59667 3.93459 8 4.67259 8H9.99392C10.7339 8 11.3333 8.596 11.3333 9.33733V12.2973C11.3333 14.5673 3.33325 14.5673 3.33325 12.2973V9.33333Z" fill="white"/>
        <path d="M7.33325 7.33333C8.80601 7.33333 9.99992 6.13943 9.99992 4.66667C9.99992 3.19391 8.80601 2 7.33325 2C5.86049 2 4.66659 3.19391 4.66659 4.66667C4.66659 6.13943 5.86049 7.33333 7.33325 7.33333Z" fill="white"/>
      </svg>`,
      bgColor: '#0C66E4'
    },
    'Confirmed order status changed': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.33344 4.00196V5.99863C5.33344 6.17544 5.40368 6.34501 5.5287 6.47003C5.65372 6.59505 5.82329 6.66529 6.0001 6.66529C6.17692 6.66529 6.34649 6.59505 6.47151 6.47003C6.59653 6.34501 6.66677 6.17544 6.66677 5.99863V3.40129C6.66677 2.99596 6.3381 2.66663 5.93344 2.66663H3.33344C3.15636 2.66663 2.98654 2.73697 2.86133 2.86218C2.73611 2.98739 2.66577 3.15722 2.66577 3.33429C2.66577 3.51137 2.73611 3.68119 2.86133 3.8064C2.98654 3.93162 3.15636 4.00196 3.33344 4.00196H5.33344Z" fill="white"/>
        <path d="M6.28544 12.012C4.90077 11.326 4.0001 9.87129 4.0001 8.24663C4.0001 6.73596 4.77811 5.36729 6.01344 4.62996C6.33344 4.43929 6.4441 4.01529 6.26077 3.68263C6.21954 3.60447 6.16287 3.5355 6.09419 3.4799C6.02551 3.4243 5.94626 3.38322 5.86123 3.35916C5.77621 3.3351 5.68718 3.32855 5.59955 3.33992C5.51192 3.35129 5.42751 3.38033 5.35144 3.42529C3.70477 4.40729 2.66677 6.23329 2.66677 8.24663C2.66677 10.412 3.8681 12.352 5.71344 13.266C6.04544 13.4306 6.44344 13.2833 6.60144 12.9373C6.75944 12.5906 6.61811 12.1766 6.28544 12.012Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33344 10.0013V12.5986C9.33344 13.004 9.66211 13.3333 10.0668 13.3333H12.6668C12.8438 13.3333 13.0137 13.2629 13.1389 13.1377C13.2641 13.0125 13.3344 12.8427 13.3344 12.6656C13.3344 12.4886 13.2641 12.3187 13.1389 12.1935C13.0137 12.0683 12.8438 11.998 12.6668 11.998H10.6668V10.0013C10.6668 9.82448 10.5965 9.65491 10.4715 9.52989C10.3465 9.40486 10.1769 9.33463 10.0001 9.33463C9.82329 9.33463 9.65373 9.40486 9.5287 9.52989C9.40368 9.65491 9.33344 9.82448 9.33344 10.0013Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.3981 3.06396C9.2401 3.41063 9.38144 3.82396 9.71411 3.98863C11.0988 4.67463 11.9994 6.12863 11.9994 7.75329C11.9994 9.26396 11.2214 10.6333 9.98544 11.37C9.83053 11.4658 9.71849 11.6176 9.67256 11.7939C9.62663 11.9702 9.65034 12.1574 9.73877 12.3166C9.92144 12.65 10.3288 12.7653 10.6481 12.5746C12.2948 11.5926 13.3328 9.76663 13.3328 7.75329C13.3328 5.58796 12.1314 3.64796 10.2861 2.73463C10.1978 2.69021 10.1003 2.66693 10.0014 2.66663C9.87333 2.66788 9.74829 2.70602 9.64129 2.77649C9.53429 2.84695 9.44986 2.94676 9.3981 3.06396Z" fill="white"/>
      </svg>`,
      bgColor: '#0C66E4'
    },
    'Order being processed assigned': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.3333 4C13.3333 3.63181 13.0348 3.33333 12.6666 3.33333C12.2984 3.33333 11.9999 3.63181 11.9999 4V6.66667C11.9999 7.03486 12.2984 7.33333 12.6666 7.33333C13.0348 7.33333 13.3333 7.03486 13.3333 6.66667V4Z" fill="white"/>
        <path d="M13.9999 4.66667H11.3333C10.9651 4.66667 10.6666 4.96514 10.6666 5.33333C10.6666 5.70152 10.9651 6 11.3333 6H13.9999C14.3681 6 14.6666 5.70152 14.6666 5.33333C14.6666 4.96514 14.3681 4.66667 13.9999 4.66667Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33325 9.33333C3.33325 8.59667 3.93459 8 4.67259 8H9.99392C10.7339 8 11.3333 8.596 11.3333 9.33733V12.2973C11.3333 14.5673 3.33325 14.5673 3.33325 12.2973V9.33333Z" fill="white"/>
        <path d="M7.33325 7.33333C8.80601 7.33333 9.99992 6.13943 9.99992 4.66667C9.99992 3.19391 8.80601 2 7.33325 2C5.86049 2 4.66659 3.19391 4.66659 4.66667C4.66659 6.13943 5.86049 7.33333 7.33325 7.33333Z" fill="white"/>
      </svg>`,
      bgColor: '#0C66E4'
    },
    'Order being processed status changed': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.33344 4.00196V5.99863C5.33344 6.17544 5.40368 6.34501 5.5287 6.47003C5.65372 6.59505 5.82329 6.66529 6.0001 6.66529C6.17692 6.66529 6.34649 6.59505 6.47151 6.47003C6.59653 6.34501 6.66677 6.17544 6.66677 5.99863V3.40129C6.66677 2.99596 6.3381 2.66663 5.93344 2.66663H3.33344C3.15636 2.66663 2.98654 2.73697 2.86133 2.86218C2.73611 2.98739 2.66577 3.15722 2.66577 3.33429C2.66577 3.51137 2.73611 3.68119 2.86133 3.8064C2.98654 3.93162 3.15636 4.00196 3.33344 4.00196H5.33344Z" fill="white"/>
        <path d="M6.28544 12.012C4.90077 11.326 4.0001 9.87129 4.0001 8.24663C4.0001 6.73596 4.77811 5.36729 6.01344 4.62996C6.33344 4.43929 6.4441 4.01529 6.26077 3.68263C6.21954 3.60447 6.16287 3.5355 6.09419 3.4799C6.02551 3.4243 5.94626 3.38322 5.86123 3.35916C5.77621 3.3351 5.68718 3.32855 5.59955 3.33992C5.51192 3.35129 5.42751 3.38033 5.35144 3.42529C3.70477 4.40729 2.66677 6.23329 2.66677 8.24663C2.66677 10.412 3.8681 12.352 5.71344 13.266C6.04544 13.4306 6.44344 13.2833 6.60144 12.9373C6.75944 12.5906 6.61811 12.1766 6.28544 12.012Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33344 10.0013V12.5986C9.33344 13.004 9.66211 13.3333 10.0668 13.3333H12.6668C12.8438 13.3333 13.0137 13.2629 13.1389 13.1377C13.2641 13.0125 13.3344 12.8427 13.3344 12.6656C13.3344 12.4886 13.2641 12.3187 13.1389 12.1935C13.0137 12.0683 12.8438 11.998 12.6668 11.998H10.6668V10.0013C10.6668 9.82448 10.5965 9.65491 10.4715 9.52989C10.3465 9.40486 10.1769 9.33463 10.0001 9.33463C9.82329 9.33463 9.65373 9.40486 9.5287 9.52989C9.40368 9.65491 9.33344 9.82448 9.33344 10.0013Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.3981 3.06396C9.2401 3.41063 9.38144 3.82396 9.71411 3.98863C11.0988 4.67463 11.9994 6.12863 11.9994 7.75329C11.9994 9.26396 11.2214 10.6333 9.98544 11.37C9.83053 11.4658 9.71849 11.6176 9.67256 11.7939C9.62663 11.9702 9.65034 12.1574 9.73877 12.3166C9.92144 12.65 10.3288 12.7653 10.6481 12.5746C12.2948 11.5926 13.3328 9.76663 13.3328 7.75329C13.3328 5.58796 12.1314 3.64796 10.2861 2.73463C10.1978 2.69021 10.1003 2.66693 10.0014 2.66663C9.87333 2.66788 9.74829 2.70602 9.64129 2.77649C9.53429 2.84695 9.44986 2.94676 9.3981 3.06396Z" fill="white"/>
      </svg>`,
      bgColor: '#0C66E4'
    },
    'Order has been picked and packed assigned': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.3333 4C13.3333 3.63181 13.0348 3.33333 12.6666 3.33333C12.2984 3.33333 11.9999 3.63181 11.9999 4V6.66667C11.9999 7.03486 12.2984 7.33333 12.6666 7.33333C13.0348 7.33333 13.3333 7.03486 13.3333 6.66667V4Z" fill="white"/>
        <path d="M13.9999 4.66667H11.3333C10.9651 4.66667 10.6666 4.96514 10.6666 5.33333C10.6666 5.70152 10.9651 6 11.3333 6H13.9999C14.3681 6 14.6666 5.70152 14.6666 5.33333C14.6666 4.96514 14.3681 4.66667 13.9999 4.66667Z" fill="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33325 9.33333C3.33325 8.59667 3.93459 8 4.67259 8H9.99392C10.7339 8 11.3333 8.596 11.3333 9.33733V12.2973C11.3333 14.5673 3.33325 14.5673 3.33325 12.2973V9.33333Z" fill="white"/>
        <path d="M7.33325 7.33333C8.80601 7.33333 9.99992 6.13943 9.99992 4.66667C9.99992 3.19391 8.80601 2 7.33325 2C5.86049 2 4.66659 3.19391 4.66659 4.66667C4.66659 6.13943 5.86049 7.33333 7.33325 7.33333Z" fill="white"/>
      </svg>`,
      bgColor: '#0C66E4'
    },
    'Order has been picked and packed status changed': {
      svg: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.33344 4.00196V5.99863C5.33344 6.17544 5.40368 6.34501 5.5287 6.47003C5.65372 6.59505 5.82329 6.66529 6.0001 6.66529C6.17692 6.66529 6.34649 6.59505 6.47151 6.47003C6.59653 6.34501 6.66677 6.17544 6.66677 5.99863V3.40129C6.66677 2.99596 6.3381 2.66663 5.93344 2.66663H3.33344C3.15636 2.66663 2.98654 2.73697 2.86133 2.86218C2.73611 2.98739 2.66577 3.15722 2.66577 3.33429C2.66577 3.51137 2.73611 3.68119 2.86133 3.8064C2.98654 3.93162 3.15636 4.00196 3.33344 4.00196H5.33344Z" fill="white"/>
<path d="M6.28544 12.012C4.90077 11.326 4.0001 9.87129 4.0001 8.24663C4.0001 6.73596 4.77811 5.36729 6.01344 4.62996C6.33344 4.43929 6.4441 4.01529 6.26077 3.68263C6.21954 3.60447 6.16287 3.5355 6.09419 3.4799C6.02551 3.4243 5.94626 3.38322 5.86123 3.35916C5.77621 3.3351 5.68718 3.32855 5.59955 3.33992C5.51192 3.35129 5.42751 3.38033 5.35144 3.42529C3.70477 4.40729 2.66677 6.23329 2.66677 8.24663C2.66677 10.412 3.8681 12.352 5.71344 13.266C6.04544 13.4306 6.44344 13.2833 6.60144 12.9373C6.75944 12.5906 6.61811 12.1766 6.28544 12.012Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.33344 10.0013V12.5986C9.33344 13.004 9.66211 13.3333 10.0668 13.3333H12.6668C12.8438 13.3333 13.0137 13.2629 13.1389 13.1377C13.2641 13.0125 13.3344 12.8427 13.3344 12.6656C13.3344 12.4886 13.2641 12.3187 13.1389 12.1935C13.0137 12.0683 12.8438 11.998 12.6668 11.998H10.6668V10.0013C10.6668 9.82448 10.5965 9.65491 10.4715 9.52989C10.3465 9.40486 10.1769 9.33463 10.0001 9.33463C9.82329 9.33463 9.65373 9.40486 9.5287 9.52989C9.40368 9.65491 9.33344 9.82448 9.33344 10.0013Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.3981 3.06396C9.2401 3.41063 9.38144 3.82396 9.71411 3.98863C11.0988 4.67463 11.9994 6.12863 11.9994 7.75329C11.9994 9.26396 11.2214 10.6333 9.98544 11.37C9.83053 11.4658 9.71849 11.6176 9.67256 11.7939C9.62663 11.9702 9.65034 12.1574 9.73877 12.3166C9.92144 12.65 10.3288 12.7653 10.6481 12.5746C12.2948 11.5926 13.3328 9.76663 13.3328 7.75329C13.3328 5.58796 12.1314 3.64796 10.2861 2.73463C10.1978 2.69021 10.1003 2.66693 10.0014 2.66663C9.87333 2.66788 9.74829 2.70602 9.64129 2.77649C9.53429 2.84695 9.44986 2.94676 9.3981 3.06396Z" fill="white"/>
</svg>
`,
      bgColor: '#0C66E4'
    }
  };

  // Default to blue icon for other activities
  return iconMap[actionType] || {
    svg: iconMap['Confirmed order assigned'].svg,
    bgColor: '#0C66E4'
  };
};
</script> 